<!doctype html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/ui.jqgrid-bootstrap.css" />
</head>

<body>
    <!--[if lt IE 8]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <div class="container">
        <div id="evt">
            <evt api-Url="http://localhost:3000/ecqa"></evt>
        </div>
    </div>

    <script type="text/x-template" id="evt">
        <div class="row">
            <div class="col-md-12">
                <table id="jqGrid"></table>
                <div id="jqGridPager"></div>
            </div>

            <div class="panel panel-default" style="width:1050px;margin-top:20px;">
                <div class="panel-heading">事件基本参数内容配置表</div>
                <div class="panel-body">
                    <p id="evtp"></p>

                    <div id="pa">
                        <patable pa-url='data/pa.json'></patable>
                    </div>
                </div>
            </div>            
        </div>
    </script>

    <script src="js/vendor/jquery.min.js"></script>
    <script type="text/ecmascript" src="js/plugins/jquery-ui.min.js"></script>
    <script type="text/ecmascript" src="js/plugins/i18n/grid.locale-cn.js"></script>
    <script type="text/ecmascript" src="js/plugins/jquery.jqGrid.min.js"></script>
    <script>
		$.jgrid.defaults.width = 780;
		$.jgrid.defaults.responsive = true;
		$.jgrid.defaults.styleUI = 'Bootstrap';
	</script>
    <script src="js/vendor/vue.min.js"></script>
    <script src="js/vendor/axios.min.js"></script>
    <script>
        axios.defaults.baseURL = 'http://localhost:3000/';
    </script>
    <script src="js/plugins/bootstrap.min.js"></script>
    <script src="evtcf.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
			var template;
                template += "<div style='margin-left:15px;'><div> 事件编号: </div><div>{evntNo} </div>";
                template += "<div> 事件中文名称: </div><div>{chnName} </div>";
                template += "<div> 事件大类: </div><div>{evntCatlog} </div>";
                template += "<div> 事件类型:</div><div> {evntType} </div>";
                template += "<div> 事件计算周期:</div><div> {evntCmpPeriod} </div>";
                template += "<div> 事件维度类型:</div><div> {evntDmType} </div>";
                template += "<div> 事件计算公式描述:</div><div> {evntFormulaDes} </div>";
                template += "<div> 聚合SQL:</div><div>{assembleSql}</div>";    
                template += "<div> 溯源SQL:</div><div>{traceSql}</textarea></div>";                                
                template += "<hr style='width:100%;'/>";
                template += "<div> {sData} {cData}  </div></div>";
                           
            $("#jqGrid").jqGrid({
                url: 'http://localhost:3000/ecqa',
                datatype: "json",
                caption: "事件配置表",
                colModel: [
                    {
						name: 'evntNo',
                        label: '事件编号',                       
						editable: true,						
                    },
                    {
						name: 'chnName',
                        label: '事件中文名称',
                        editable: true // must set editable to true if you want to make the field editable
                    },
                    {
						name : 'evntCatlog',
                        label: '事件大类',
                        editable: true
                    }, 
                    {
						name : 'evntType',
                        label: '事件类型',
                        editable: true
                    },
                    {
						name: 'evntCmpPeriod',
                        label: '事件计算周期',
                        editable: true
                    },
                    {
                        name: 'evntDmType',
                        label: '事件维度类型',
                        editable: true
                    },
                    {
                        name: 'evntFormulaDes',
                        label: '事件计算公式描述',
                        editable: true
                    },
                    {
                        name: 'assembleSql',
                        label: '聚合SQL',                
                        editable: true
                    },
                    {
                        name: 'traceSql',
                        label: '溯源SQL',                                              
                        editable: true
                    },
                    {
                        name: 'memoDes',
                        label: '备注',
                        editable: true
                    }
                ],				
                onSelectRow: function(id) {                    
                },
                loadComplete: function() {                                        
                },
				viewrecords: true,
                width: 1050,
                height: 200,
                rowNum: 10,
                pager: "#jqGridPager"
            });

            $('#jqGrid').navGrid('#jqGridPager',{ 
                edit: true, 
                add: true, 
                del: true, 
                search: true, 
                position: "left", 
            });
        });
    </script>
</body>

</html>